<head>
  <title>Free-Space</title>
  
</head>

<body>
  <div class="title-bar">
    <span>{{> header}}</span>
    <span class="logo">FREE-SPACE</span>
  </div>
  <div class="main-space">
    <span class="tabs">
      {{#each floors}}
        {{> tab}}
      {{/each}}
    </span>
    <!-- -->
    <span class="map">
      <img class="map-image" src="/{{map_image}}">
        {{#each sensors}}
          {{> marker}}
        {{/each}}
    </span>
    <span class="stats">
      {{> statsTemp}}
    </span>
  </div>
  <!-- {{> addLocationForm}} -->
</body>

<template name="statsTemp">
    <div class="stats-text">Sensor Type: {{sensor_type}}</div>
    <div class="stats-text">Current Status: {{status}}</div>
    <div class="stats-text">Last-Used: {{last_used}}</div>
    <div class="stats-text">Last-Checked: {{last_checked}}</div>
    <footer>
      <hr />
      Free-Space created by: Nick Jiang, Erica Wu, Vincent Po.
    </footer>
</template>

<template name="header">
  <div class="title-bar">
    <span>{{location.location}}</span>
    <div class="fraction">{{location.openNum}}/{{location.totalNum}} open</div>
  </div>
</template>

<template name="tab">
  <div class="tab_{{selected_floor}}">
    <div class="floor">{{floor}}</div>
    <div class="fraction">{{openNum}}/{{totalNum}} open</div>
  </div>
</template>

<template name="marker">
  <img class="marker-image" src="/{{marker_image}}" style="position: absolute; left: {{xPos}}%; top: {{get_ypos}}%;">
</template>

<template name="addLocationForm">
    <form class="newLocation">
      <input type="text" placeholder="location name" name="locationName">
      <input type="number" placeholder="# open sensors" name="openNumLocation">
      <input type="number" placeholder="# total sensors" name="totalNumLocation">
      <input type="submit" class="newLocation" value="Submit new location">
    </form>

    <form class="newFloor">
      <input type="text" placeholder="location name" name="locationName">
      <input type="text" placeholder="floor name" name="floorName">
      <input type="number" placeholder="floor number" name="level">
      <input type="number" placeholder="# open sensors on floor" name="openNumFloor">
      <input type="number" placeholder="# total sensors on floor" name="totalNumFloor">
      <input type="text" placeholder="image name" name="mapImage">
      <input type="submit" value="Submit new floor">
    </form>

    <form class="newSensor">
      <input type="text" placeholder="location name" name="locationName">
      <input type="text" placeholder="floor name" name="floorName">
      <input type="text" placeholder="sensor id" name="sensorID">
      <input type="text" placeholder="sensor type" name="sensorType">
      <input type="number" placeholder="sensor status" name="sensorStatus">
      <input type="number" placeholder="last used" name="lastUsed">
      <input type="number" placeholder="last checked" name="lastChecked">
      <input type="number" step = "0.01" placeholder="x position" name="xPosition">
      <input type="number" step = "0.01" placeholder="y position" name="yPosition">
      <input type="submit" value="Submit">
    </form>
  </template>
